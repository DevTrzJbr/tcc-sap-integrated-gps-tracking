<mvc:View controllerName="com.tcc.gpstracking.controller.Page2"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
  	xmlns:core="sap.ui.core"
	xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">

	<Page id="page2" title="Page 2" showNavButton="true" navButtonPress=".onNavBack">
		<content>

			<SplitApp id="SplitAppDemo" initialDetail="detail" initialMaster="master">
				<detailPages>
					<Page id="detail" title="Detail 1" backgroundDesign="Solid">
						<Label text="Selecione uma rota no Master 2" />
					</Page>

					<Page id="detailDetail" title="Detail da Rota" backgroundDesign="Solid" showNavButton="true" navButtonPress=".onPressDetailBack">
						<!-- <content> -->
							<!-- Container do mapa -->
							<core:Fragment fragmentName="com.tcc.gpstracking.view.fragments.Map" type="XML"/>
							<VBox class="sapUiSmallMargin">
								<ObjectHeader title="{page2>/selectedRoute/name}" number="{page2>/selectedRoute/code}" numberUnit="rota"/>
							</VBox>
						<!-- </content> -->
					</Page>

					<Page id="detail2" title="Outro Detail" backgroundDesign="Solid" showNavButton="true" navButtonPress=".onPressDetailBack">
						<Label text="Detail 3 (exemplo)" />
					</Page>
				</detailPages>

				<masterPages>
					<!-- MASTER 1: lista de Transportes -->
					<Page id="master" title="Transportes" backgroundDesign="List">
						<List items="{
                path: 'page2>/transports'
              }" itemPress=".onTransportPress">
							<items>
								<StandardListItem title="{page2>name}" description="ID: {page2>id}" type="Navigation"/>
							</items>
						</List>
					</Page>

					<!-- MASTER 2: rotas do transporte selecionado (element binding no controller) -->
					<Page id="master2" title="Rotas do Transporte" backgroundDesign="List" showNavButton="true" navButtonPress=".onPressMasterBack">
						<List items="{
                path: 'page2>routes'
              }" itemPress=".onRoutePress">
							<items>
								<StandardListItem title="{page2>name}" description="CÃ³digo: {page2>code}" type="Active" custom:to="detailDetail"/>
							</items>
						</List>
					</Page>
				</masterPages>
			</SplitApp>

		</content>
	</Page>
</mvc:View>
