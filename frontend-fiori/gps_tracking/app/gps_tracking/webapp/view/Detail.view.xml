<mvc:View
  controllerName="com.tcc.gpstracking.controller.Detail"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core">

  <Page title="Rotas &amp; Analytics" enableScrolling="false">
    <subHeader>
      <Toolbar>
        <ToolbarSpacer/>
        <Input id="inpRota" value="rota_com_desvio_1" width="18rem" placeholder="Nome da rota (sem .csv)"/>
        <Button text="Carregar GeoJSON" press=".onCarregarRota"/>
        <Button text="▶︎ Play" press=".onPlay"/>
        <Button text="■ Stop" press=".onStop"/>
      </Toolbar>
    </subHeader>

    <content>
      <!-- Container do mapa -->
      <core:Fragment fragmentName="com.tcc.gpstracking.view.fragments.Map" type="XML"/>

      <!-- (Opcional) mantém seu painel e lista abaixo do mapa -->
      <Panel headerText="Resumo da Rota" class="sapUiNoContentPadding">
        <HBox justifyContent="SpaceBetween" wrap="Wrap">
          <VBox>
            <ObjectStatus title="Distância (km)" state="Success"
              text="{analytics>/distanceKm}" />
            <ObjectStatus title="Tempo total (min)" state="Information"
              text="{analytics>/totalMinutes}" />
            <ObjectStatus title="Tempo em movimento (min)" state="Success"
              text="{analytics>/movingMinutes}" />
          </VBox>
          <VBox>
            <ObjectStatus title="Velocidade média (km/h)" state="None"
              text="{analytics>/averageSpeedKmh}" />
            <ObjectStatus title="Tempo parado (min)" state="Warning"
              text="{analytics>/stoppedMinutes}" />
          </VBox>
        </HBox>
      </Panel>

      <List id="routeList" headerText="Flag de paradas" showNoData="true" noDataText="Nenhuma parada registrada">
        <items>
          <StandardListItem
            title="{routes>nome}"
            description="{routes>minutos} min — {routes>segundos} s"
            icon="sap-icon://flag"
            type="Inactive"/>
        </items>
      </List>
    </content>
  </Page>
</mvc:View>
