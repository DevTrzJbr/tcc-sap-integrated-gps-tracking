<mvc:View
  controllerName="com.tcc.gpstracking.controller.Detail"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core">

  <Page title="Rotas &amp; Analytics" enableScrolling="false">
    <subHeader>
      <Toolbar>
        <ToolbarSpacer/>
        <Input id="inpRota" value="rota_com_desvio_1" width="18rem" placeholder="Nome da rota (sem .csv)"/>
        <Button text="Carregar GeoJSON" press=".onCarregarRota"/>
        <Button text="▶︎ Play" press=".onPlay"/>
        <Button text="■ Stop" press=".onStop"/>
      </Toolbar>
    </subHeader>

    <content>
      <!-- Container do mapa -->
      <core:Fragment fragmentName="com.tcc.gpstracking.view.fragments.Map" type="XML"/>

      <!-- (Opcional) mantém seu painel e lista abaixo do mapa -->
      <Panel headerText="Resumo das Rotas" class="sapUiNoContentPadding">
        <HBox justifyContent="SpaceBetween" wrap="Wrap">
          <VBox>
            <ObjectStatus title="Total de Rotas" state="Information"
              text="{analytics>/totalRotas}" />
            <ObjectStatus title="Distância Total (km)" state="Success"
              text="{analytics>/distanciaTotalKm}" />
          </VBox>
          <VBox>
            <ObjectStatus title="Tempo Total (h)" state="None"
              text="{analytics>/tempoTotalH}" />
            <ObjectStatus title="Custo Estimado (R$)" state="Warning"
              text="{analytics>/custoTotal}" />
          </VBox>
        </HBox>
      </Panel>

      <List id="routeList" headerText="Rotas Renderizadas">
        <items>
          <StandardListItem
            title="{routes>id}"
            description="De {routes>from} para {routes>to} — {routes>km} km"
            icon="sap-icon://map"
            type="Inactive"/>
        </items>
      </List>
    </content>
  </Page>
</mvc:View>
